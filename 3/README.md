github-readme-stats快速生成Markdown和URL
=======

[![PythonVersion](https://img.shields.io/badge/JavaScript-ES6-orange?logo=JavaScript&style=flat-square)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript)

## 介绍

自从GitHub能够通过README.md显示自定义主页信息后，产生了一个很受追捧的[github-readme-stats](https://github.com/anuraghazra/github-readme-stats
)项目，该项目通过自己的API提供相关可视化信息的显示，用户只需根据规则写下Markdown的图片引用标签，就能美观展示出个人统计信息。但写规则比较麻烦，而本项目提供了便捷的函数，只要用户名就能生成markdown文本可直接使用，而更多的配置也能依据规则写入函数的参数选项中使用。另外在快速开始中也提供了更为简洁的操作。

## 快速开始

复制下列代码（源自`./dist/quick-gen.min.js`）到自己的GitHub个人主页(一般是`https://github.com/username`)，然后在浏览器控制台输入即可。
```js
!function(){"use strict";var t="github-readme-stats.vercel.app";const e=["dark","radical","merko","gruvbox","tokyonight","onedark","cobalt","synthwave"," highcontrast","dracula"],n=["default","compact"];function i(t={}){const e=String(t.username||"").trim(),n=String(t.repo||"").trim(),i=r(t),o=`${e}/${n}`;let a;return a=t.link?String(t.link||"").trim():`https://github.com/${e}/${n}`,c(i,a,o)}function r({username:n="",theme:i="",show_owner:r=!1,repo:o=""}){let a=new URLSearchParams;const s=[...arguments][0]||{};return a=m(a,s),a.set("username",String(n).trim()),a.set("show_owner",Boolean(r)),a.set("repo",String(o)),i=String(i).trim().toLowerCase(),e.includes(i)?a.set("theme",i):a.delete("theme"),`https://${t}/api/pin/?${a.toString()}`}function o(t={}){const e=String(t.username||"").trim(),n=String(t.link||"").trim();return c(a(t),n,`${e}'s Top Langs`)}function a({username:i="",hide:r=[],hide_title:o=!1,layout:a="compact",card_width:s,theme:u=""}={}){let c=new URLSearchParams;const l=[...arguments][0]||{};return c=m(c,l),c.set("username",String(i).trim()),c.set("hide_title",Boolean(o)),a=String(a).trim().toLowerCase(),n.includes(a)?c.set("layout",a):c.delete("layout"),a&&c.set("layout",a),s=Number(s),isNaN(s)||c.set("card_width",s),u=String(u).trim().toLowerCase(),e.includes(u)?c.set("theme",u):c.delete("theme"),(r="string"==typeof r?r:(r||[]).map((t=>encodeURIComponent(t))).join(","))&&c.set("hide",r),`https://${t}/api/top-langs/?${c.toString()}`}function s(t={}){const e=String(t.username||"").trim(),n=String(t.link||"").trim();return c(u(t),n,`${e}'s GitHub stats`)}function u({username:n="",theme:i="",count_private:r=!1,show_icons:o=!0,hide:a=[],link:s=""}={}){let u=new URLSearchParams;const c=[...arguments][0]||{};return u=m(u,c),u.set("username",String(n).trim()),i=String(i).trim().toLowerCase(),e.includes(i)?u.set("theme",i):u.delete("theme"),u.set("count_private",Boolean(r)),u.set("show_icons",Boolean(o)),(a="string"==typeof a?a:(a||[]).join(","))&&u.set("hide",a),`https://${t}/api?${u.toString()}`}function c(t="",e="",n="GitHub Stat Img"){return e||(e=t),`[![${n}](${t})](${e})`}function m(t,e){return Reflect.ownKeys(e).forEach((n=>{"link"!==n&&null!=e[n]&&null!=e[n]&&("string"!=typeof e[n]&&null!=e[n].length?e[n]=e[n].join(",").trim():e[n]=String(e[n]).trim(),t.set(n,e[n]))})),t}var l={apiDomain:t,layouts:n,themes:e,setParams:m,setAPI:function(e){e&&(t=String(e))},genMarkdown:c,genPinMD:i,genPinURL:r,genStatCardMD:s,genStatCardURL:u,genTopLangsMD:o,genTopLangsURL:a,quickGen:function(){if(void 0===typeof window)return;if("github.com"!==location.hostname||0!==location.pathname.indexOf("/"))return void alert("当前页面不是你的GitHub主页，无法生成MarkDown");const t=prompt(`请输入生成主题，选项为：${e.join(",")}`,""),n=document.querySelector("span.p-nickname")?.textContent.trim();let r={theme:t,username:n};const a=[...document.querySelectorAll("span.repo")].map((t=>t.textContent.trim()));let u=`\x3c!-- GitHub 统计卡片 --\x3e\n\n${s(r)}\n\n\x3c!-- GitHub 热门使用语言卡片 --\x3e\n\n${o(r)}\n\n\x3c!-- GitHub 置顶仓库卡片 --\x3e\n\n${a.map((t=>(r.repo=t,i(r)))).join("\n\n")}\n`;const c=document.createElement("div");c.setAttribute("style","max-height:85vh;border-radius:5px;background:rgba(0,0,0,.4);padding:20px;position:fixed;width:500px;max-width:85vw;z-index:999;inset:0;margin:auto;display:flex;flex-flow:wrap column;justify-content:space-around"),c.innerHTML="<textarea style=width:100%;height:360px;font-size:18px;padding:12px;color:#efefef;background:#2b2a33></textarea><div style=text-align:center;width:100%><button style=padding:12px;min-width:90px;height:60px;font-size:18px;color:#efefef;background:#2b2a33>关闭</button></div>",c.querySelector("textarea").value=u,c.querySelector("button").onclick=()=>{c.remove()},document.documentElement.appendChild(c)}};const{quickGen:d}=l;d()}();
```

## 函数调用

源文件为`./src/gh-readme-md-gen.js`，使用方法参考`./test.js`
